<%= turbo_frame_tag 'rush_job_jobs_frame' do %>
  <div id="rush-job-jobs-container"
      class="jobs-container"
      role="main">
    <div class="table-responsive">
      <table class="table
                    table-bordered
                    table-striped
                    table-<%= current_theme %>">
        <thead>
          <tr>
            <th><%= sortable 'id' %><%= sort_arrow 'id' %></th>
            <th><%= sortable 'priority' %><%= sort_arrow 'priority' %></th>
            <th><%= sortable 'attempts' %><%= sort_arrow 'attempts' %></th>
            <th><%= t :job_class %></th>
            <th><%= t :arguments %></th>
            <th><%= sortable 'last_error' %><%= sort_arrow 'last_error' %></th>
            <th><%= sortable 'run_at' %><%= sort_arrow 'run_at' %></th>
            <th><%= sortable 'locked_at' %><%= sort_arrow 'locked_at' %></th>
            <th><%= sortable 'failed_at' %><%= sort_arrow 'failed_at' %></th>
            <th><%= sortable 'locked_by' %><%= sort_arrow'locked_by' %></th>
            <th><%= sortable 'queue' %><%= sort_arrow 'queue' %></th>
          </tr>
        </thead>
        <tbody class="table-group-divider">
          <% @rush_jobs.each do |job| %>
            <tr>
              <td><%= job.id %></td>
              <td><%= job.priority %></td>
              <td><%= job.attempts %></td>
              <td><%= job.job_class %></td>
              <td><%= job.job_arguments %></td>
              <td><%= job.last_error %></td>
              <td><%= job.run_at %></td>
              <td><%= job.locked_at %></td>
              <td><%= job.failed_at %></td>
              <td><%= job.locked_by %></td>
              <td><%= job.queue %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <div class="footer-container" data-bs-theme="<%= current_theme %>">
    <%== pagy_bootstrap_nav(@pagy) if @pagy.pages > 1 %>
  </div>
<% end %>
